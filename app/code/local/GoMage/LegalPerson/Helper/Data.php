<?php eval(base64_decode("LyoqICogR29NYWdlIExlZ2FsUGVyc29uIEV4dGVuc2lvbiAqICogQGNhdGVnb3J5IEV4dGVuc2lvbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTcgR29NYWdlIChodHRwczovL3d3dy5nb21hZ2UuY29tKSAqIEBhdXRob3IgR29NYWdlICogQGxpY2Vuc2UgaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9saWNlbnNlLWFncmVlbWVudC8gU2luZ2xlIGRvbWFpbiBsaWNlbnNlICogQHRlcm1zIG9mIHVzZSBodHRwczovL3d3dy5nb21hZ2UuY29tL3Rlcm1zLW9mLXVzZSAqIEB2ZXJzaW9uIFJlbGVhc2U6IDEuMC4wICogQHNpbmNlIENsYXNzIGF2YWlsYWJsZSBzaW5jZSBSZWxlYXNlIDEuMC4wICovIGNsYXNzIEdvTWFnZV9MZWdhbFBlcnNvbl9IZWxwZXJfRGF0YSBleHRlbmRzIE1hZ2VfQ29yZV9IZWxwZXJfQWJzdHJhY3QgeyAvKiogQHZhciBhcnJheSAqLyBwcm90ZWN0ZWQgJF9maWVsZHNMYWJlbHMgPSBhcnJheSggJ2dtX2xwX3R5cGUnID0+ICdQZXJzb24gVHlwZScsICdnbV9scF90cm8nID0+ICdOdW1iZXIgaW4gVHJhZGUgUmVnaXN0ZXIgT2ZmaWNlJywgJ2dtX2xwX2JhbmsnID0+ICdCYW5rJywgJ2dtX2xwX2liYW4nID0+ICdJQkFOJywgJ2dtX2xwX3BjJyA9PiAnUGVyc29uYWwgTnVtZXJpY2FsIENvZGUnLCAnZ21fbHBfY2FyZCcgPT4gJ1NlcmllcyBhbmQgbnVtYmVyIG9mIHRoZSBJRCBjYXJkJywgJ2NvbXBhbnknID0+ICdDb21wYW55JywgJ3ZhdF9pZCcgPT4gJ1ZBVCBudW1iZXInLCApOyAvKiogQHZhciBzdHJpbmcgKi8gcHJvdGVjdGVkICRfc3dpdGNoZXIgPSAnZ21fbHBfdHlwZSc7IC8qKiBAdmFyIGFycmF5ICovIHByb3RlY3RlZCAkX2NvbmZpZyA9IGFycmF5KCk7IC8qKiAqIEByZXR1cm4gYXJyYXkgKi8gcHVibGljIGZ1bmN0aW9uIGdldEZpZWxkc0xhYmVscygpIHsgcmV0dXJuICR0aGlzLT5fZmllbGRzTGFiZWxzOyB9IC8qKiAqIEBwYXJhbSBib29sICR3aXRoX3N3aXRjaGVyICogQHJldHVybiBhcnJheSAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0RmllbGRzTmFtZSgkd2l0aF9zd2l0Y2hlciA9IHRydWUpIHsgJGZpZWxkcyA9IGFycmF5X2tleXMoJHRoaXMtPmdldEZpZWxkc0xhYmVscygpKTsgaWYgKCEkd2l0aF9zd2l0Y2hlcikgeyAkZmllbGRzID0gYXJyYXlfZGlmZigkZmllbGRzLCBhcnJheSgkdGhpcy0+X3N3aXRjaGVyKSk7IH0gcmV0dXJuICRmaWVsZHM7IH0gLyoqICogQHJldHVybiBHb01hZ2VfTGVnYWxQZXJzb25fTW9kZWxfRmllbGRbXSAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0TmF0dXJhbEZpZWxkcygpIHsgJHJlc3VsdCA9IGFycmF5KCk7IGZvcmVhY2ggKCR0aGlzLT5nZXRGaWVsZHNOYW1lKGZhbHNlKSBhcyAkbmFtZSkgeyAkcmVxdWlyZWQgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX2NoZWNrb3V0L25hdHVyYWxfcGVyc29uLycgLiAkbmFtZSkgPT0gJ3JlcSc7ICRvcHRpb25hbCA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfY2hlY2tvdXQvbmF0dXJhbF9wZXJzb24vJyAuICRuYW1lKSA9PSAnb3B0JzsgLyoqIEB2YXIgR29NYWdlX0xlZ2FsUGVyc29uX01vZGVsX0ZpZWxkICRmaWVsZCAqLyAkZmllbGQgPSBNYWdlOjpnZXRNb2RlbCgnZ29tYWdlX2xlZ2FscGVyc29uL2ZpZWxkJywgYXJyYXkoICduYW1lJyA9PiAkbmFtZSwgJ2xhYmVsJyA9PiAkdGhpcy0+X2ZpZWxkc0xhYmVsc1skbmFtZV0sICdyZXF1aXJlZCcgPT4gJHJlcXVpcmVkLCAnb3B0aW9uYWwnID0+ICRvcHRpb25hbCwgJ2VuYWJsZWQnID0+ICRyZXF1aXJlZCB8fCAkb3B0aW9uYWwsICkgKTsgJHJlc3VsdFtdID0gJGZpZWxkOyB9IHJldHVybiAkcmVzdWx0OyB9IC8qKiAqIEByZXR1cm4gR29NYWdlX0xlZ2FsUGVyc29uX01vZGVsX0ZpZWxkW10gKi8gcHVibGljIGZ1bmN0aW9uIGdldExlZ2FsRmllbGRzKCkgeyAkcmVzdWx0ID0gYXJyYXkoKTsgZm9yZWFjaCAoJHRoaXMtPmdldEZpZWxkc05hbWUoZmFsc2UpIGFzICRuYW1lKSB7ICRyZXF1aXJlZCA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfY2hlY2tvdXQvbGVnYWxfcGVyc29uLycgLiAkbmFtZSkgPT0gJ3JlcSc7ICRvcHRpb25hbCA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfY2hlY2tvdXQvbGVnYWxfcGVyc29uLycgLiAkbmFtZSkgPT0gJ29wdCc7IC8qKiBAdmFyIEdvTWFnZV9MZWdhbFBlcnNvbl9Nb2RlbF9GaWVsZCAkZmllbGQgKi8gJGZpZWxkID0gTWFnZTo6Z2V0TW9kZWwoJ2dvbWFnZV9sZWdhbHBlcnNvbi9maWVsZCcsIGFycmF5KCAnbmFtZScgPT4gJG5hbWUsICdsYWJlbCcgPT4gJHRoaXMtPl9maWVsZHNMYWJlbHNbJG5hbWVdLCAncmVxdWlyZWQnID0+ICRyZXF1aXJlZCwgJ29wdGlvbmFsJyA9PiAkb3B0aW9uYWwsICdlbmFibGVkJyA9PiAkcmVxdWlyZWQgfHwgJG9wdGlvbmFsLCApICk7ICRyZXN1bHRbXSA9ICRmaWVsZDsgfSByZXR1cm4gJHJlc3VsdDsgfSAvKiogKiBAcmV0dXJuIEdvTWFnZV9MZWdhbFBlcnNvbl9Nb2RlbF9GaWVsZCAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0U3dpdGNoZXJGaWVsZCgpIHsgJGVuYWJsZWQgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZ0ZsYWcoJ2dvbWFnZV9jaGVja291dC9wZXJzb24vZW5hYmxlZCcpOyByZXR1cm4gTWFnZTo6Z2V0TW9kZWwoJ2dvbWFnZV9sZWdhbHBlcnNvbi9maWVsZCcsIGFycmF5KCAnbmFtZScgPT4gJHRoaXMtPl9zd2l0Y2hlciwgJ2xhYmVsJyA9PiAkdGhpcy0+X2ZpZWxkc0xhYmVsc1skdGhpcy0+X3N3aXRjaGVyXSwgJ3JlcXVpcmVkJyA9PiAkZW5hYmxlZCwgJ29wdGlvbmFsJyA9PiBmYWxzZSwgJ2VuYWJsZWQnID0+ICRlbmFibGVkLCApICk7IH0gLyoqICogQHJldHVybiBib29sICovIHB1YmxpYyBmdW5jdGlvbiBpc0FkbWluKCkgeyBpZiAoTWFnZTo6YXBwKCktPmdldFN0b3JlKCktPmlzQWRtaW4oKSkgeyByZXR1cm4gdHJ1ZTsgfSBpZiAoTWFnZTo6Z2V0RGVzaWduKCktPmdldEFyZWEoKSA9PSAnYWRtaW5odG1sJykgeyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gLyoqICogQHBhcmFtIGJvb2wgJGFzSnNvbiAqIEByZXR1cm4gYXJyYXl8c3RyaW5nICovIHB1YmxpYyBmdW5jdGlvbiBnZXRDb25maWcoJGFzSnNvbiA9IGZhbHNlKSB7IGlmIChlbXB0eSgkdGhpcy0+X2NvbmZpZykpIHsgJHRoaXMtPl9jb25maWdbJ2NvdW50cmllcyddID0gcHJlZ19zcGxpdCgnL1wsLycsIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfY2hlY2tvdXQvcGVyc29uL2NvdW50cmllcycpLCAwLCBQUkVHX1NQTElUX05PX0VNUFRZICk7ICR0aGlzLT5fY29uZmlnWydzd2l0Y2hlciddID0gJHRoaXMtPmdldFN3aXRjaGVyRmllbGQoKS0+dG9BcnJheSgpOyAkdGhpcy0+X2NvbmZpZ1snbmF0dXJhbCddID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkZmllbGQpIHsgcmV0dXJuICRmaWVsZC0+dG9BcnJheSgpOyB9LCAkdGhpcy0+Z2V0TmF0dXJhbEZpZWxkcygpICk7ICR0aGlzLT5fY29uZmlnWydsZWdhbCddID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkZmllbGQpIHsgcmV0dXJuICRmaWVsZC0+dG9BcnJheSgpOyB9LCAkdGhpcy0+Z2V0TGVnYWxGaWVsZHMoKSApOyAkdGhpcy0+X2NvbmZpZ1snaXNfYWRtaW4nXSA9ICR0aGlzLT5pc0FkbWluKCk7IH0gaWYgKCRhc0pzb24pIHsgcmV0dXJuIE1hZ2U6OmhlbHBlcignY29yZScpLT5qc29uRW5jb2RlKCR0aGlzLT5fY29uZmlnKTsgfSByZXR1cm4gJHRoaXMtPl9jb25maWc7IH0gcHVibGljIGZ1bmN0aW9uIGdldEFsbFN0b3JlRG9tYWlucygpIHsgJGRvbWFpbnMgPSBhcnJheSgpOyBmb3JlYWNoIChNYWdlOjphcHAoKS0+Z2V0V2Vic2l0ZXMoKSBhcyAkd2Vic2l0ZSkgeyAkdXJsID0gJHdlYnNpdGUtPmdldENvbmZpZygnd2ViL3Vuc2VjdXJlL2Jhc2VfdXJsJyk7IGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7ICRkb21haW5zW10gPSAkZG9tYWluOyB9ICR1cmwgPSAkd2Vic2l0ZS0+Z2V0Q29uZmlnKCd3ZWIvc2VjdXJlL2Jhc2VfdXJsJyk7IGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7ICRkb21haW5zW10gPSAkZG9tYWluOyB9IH0gcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7IH0gcHVibGljIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVdlYnNpdGVzKCkgeyByZXR1cm4gJHRoaXMtPl93KCk7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIF93KCkgeyBpZiAoIU1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9sZWdhbHBlcnNvbi9pbnN0YWxsZWQnKSB8fCAoaW50dmFsKE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9sZWdhbHBlcnNvbi9jb3VudCcpKSA+IDEwKSApIHsgcmV0dXJuIGFycmF5KCk7IH0gJHRpbWVfdG9fdXBkYXRlID0gNjAgKiA2MCAqIDI0ICogMTU7ICRyID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL2FyJyk7ICR0ID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL3RpbWUnKTsgJHMgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygnZ29tYWdlX2FjdGl2YXRpb24vbGVnYWxwZXJzb24vd2Vic2l0ZXMnKTsgJGxhc3RfY2hlY2sgPSBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCR0KSk7ICRhbGxzaXRlcyA9IGV4cGxvZGUoJywnLCBzdHJfcmVwbGFjZSgkciwgJycsIE1hZ2U6OmhlbHBlcignY29yZScpLT5kZWNyeXB0KCRzKSkpOyAkYWxsc2l0ZXMgPSBhcnJheV9kaWZmKCRhbGxzaXRlcywgYXJyYXkoIiIpKTsgaWYgKCgkbGFzdF9jaGVjayArICR0aW1lX3RvX3VwZGF0ZSkgPCB0aW1lKCkpIHsgJHRoaXMtPmEoTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL2tleScpLCBpbnR2YWwoTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL2NvdW50JykpLCBpbXBsb2RlKCcsJywgJGFsbHNpdGVzKSApOyB9IHJldHVybiAkYWxsc2l0ZXM7IH0gcHVibGljIGZ1bmN0aW9uIGEoJGssICRjID0gMCwgJHMgPSAnJykgeyAkY2ggPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgc3ByaW50ZignaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9pbmRleC5waHAvZ29tYWdlX2Rvd25sb2FkYWJsZS9rZXkvY2hlY2snKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1RGSUVMRFMsICdrZXk9JyAuIHVybGVuY29kZSgkaykgLiAnJnNrdT1sZWdhbC1wZXJzb24mZG9tYWlucz0nIC4gdXJsZW5jb2RlKGltcGxvZGUoJywnLCAkdGhpcy0+Z2V0QWxsU3RvcmVEb21haW5zKCkpKSAuICcmdmVyPScgLiB1cmxlbmNvZGUoJzEuMC4wJykpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMzApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOyAkY29udGVudCA9IGN1cmxfZXhlYygkY2gpOyB0cnkgeyAkciA9IFplbmRfSnNvbjo6ZGVjb2RlKCRjb250ZW50KTsgfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgeyAkciA9IGFycmF5KCk7IH0gJGUgPSBNYWdlOjpoZWxwZXIoJ2NvcmUnKTsgaWYgKGVtcHR5KCRyKSkgeyAkdmFsdWUxID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL2FyJyk7ICRncm91cHMgPSBhcnJheSggJ2xlZ2FscGVyc29uJyA9PiBhcnJheSggJ2ZpZWxkcycgPT4gYXJyYXkoICdhcicgPT4gYXJyYXkoICd2YWx1ZScgPT4gJHZhbHVlMSApLCAnd2Vic2l0ZXMnID0+IGFycmF5KCAndmFsdWUnID0+IChzdHJpbmcpTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL3dlYnNpdGVzJykgKSwgJ3RpbWUnID0+IGFycmF5KCAndmFsdWUnID0+IChzdHJpbmcpJGUtPmVuY3J5cHQoJHZhbHVlMSAuICh0aW1lKCkgLSAoNjAgKiA2MCAqIDI0ICogMTUgLSAxODAwKSkgLiAkdmFsdWUxKSApLCAnY291bnQnID0+IGFycmF5KCAndmFsdWUnID0+ICRjICsgMSkgKSApICk7IE1hZ2U6OmdldE1vZGVsKCdhZG1pbmh0bWwvY29uZmlnX2RhdGEnKSAtPnNldFNlY3Rpb24oJ2dvbWFnZV9hY3RpdmF0aW9uJykgLT5zZXRHcm91cHMoJGdyb3VwcykgLT5zYXZlKCk7IE1hZ2U6OmdldENvbmZpZygpLT5yZWluaXQoKTsgTWFnZTo6YXBwKCktPnJlaW5pdFN0b3JlcygpOyByZXR1cm47IH0gJHZhbHVlMSA9ICcnOyAkdmFsdWUyID0gJyc7IGlmIChpc3NldCgkclsnZCddKSAmJiBpc3NldCgkclsnYyddKSkgeyAkdmFsdWUxID0gJGUtPmVuY3J5cHQoYmFzZTY0X2VuY29kZShaZW5kX0pzb246OmVuY29kZSgkcikpKTsgaWYgKCEkcykgeyAkcyA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdnb21hZ2VfYWN0aXZhdGlvbi9sZWdhbHBlcnNvbi93ZWJzaXRlcycpOyB9ICRzID0gYXJyYXlfc2xpY2UoZXhwbG9kZSgnLCcsICRzKSwgMCwgJHJbJ2MnXSk7ICR2YWx1ZTIgPSAkZS0+ZW5jcnlwdCgkdmFsdWUxIC4gaW1wbG9kZSgnLCcsICRzKSAuICR2YWx1ZTEpOyB9ICRncm91cHMgPSBhcnJheSggJ2xlZ2FscGVyc29uJyA9PiBhcnJheSggJ2ZpZWxkcycgPT4gYXJyYXkoICdhcicgPT4gYXJyYXkoICd2YWx1ZScgPT4gJHZhbHVlMSApLCAnd2Vic2l0ZXMnID0+IGFycmF5KCAndmFsdWUnID0+IChzdHJpbmcpJHZhbHVlMiApLCAndGltZScgPT4gYXJyYXkoICd2YWx1ZScgPT4gKHN0cmluZykkZS0+ZW5jcnlwdCgkdmFsdWUxIC4gdGltZSgpIC4gJHZhbHVlMSkgKSwgJ2luc3RhbGxlZCcgPT4gYXJyYXkoICd2YWx1ZScgPT4gMSApLCAnY291bnQnID0+IGFycmF5KCAndmFsdWUnID0+IDApICkgKSApOyBNYWdlOjpnZXRNb2RlbCgnYWRtaW5odG1sL2NvbmZpZ19kYXRhJykgLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpIC0+c2V0R3JvdXBzKCRncm91cHMpIC0+c2F2ZSgpOyBNYWdlOjpnZXRDb25maWcoKS0+cmVpbml0KCk7IE1hZ2U6OmFwcCgpLT5yZWluaXRTdG9yZXMoKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2EoKSB7ICRhciA9IGJhc2U2NF9kZWNvZGUoTWFnZTo6aGVscGVyKCdjb3JlJyktPmRlY3J5cHQoTWFnZTo6Z2V0U3RvcmVDb25maWcoJ2dvbWFnZV9hY3RpdmF0aW9uL2xlZ2FscGVyc29uL2FyJykpKTsgcmV0dXJuICRhciA/IFplbmRfSnNvbjo6ZGVjb2RlKCRhcikgOiBhcnJheSgpOyB9IH0="));